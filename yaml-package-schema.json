{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$ref": "#/definitions/Athene",
  "definitions": {
    "Athene": {
      "type": "object",
      "additionalProperties": true,
      "properties": {
        "name": {
          "type": "string"
        },
        "process": {
          "type": "string"
        },
        "type": {
          "type": "string",
          "enum": [
            "Solvens",
            "ChangeAnalysis"
          ]
        }
      },
      "if": {
        "properties": {
          "type": {
            "const": "Solvens"
          }
        }
      },
      "then": {
        "properties": {
          "standard": {
            "$ref": "#/definitions/SolvensStandard"
          },
          "scenarios": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/SolvensScenario"
            }
          }
        },
        "required": [
          "standard",
          "scenarios"
        ]
      },
      "else": {
        "properties": {
          "standard": {
            "$ref": "#/definitions/ChangeAnalysisStandard"
          },
          "scenarios": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/ChangeAnalysisScenario"
            }
          }
        },
        "required": [
          "standard",
          "scenarios"
        ]
      },
      "required": [
        "name",
        "process",
        "type"
      ],
      "title": "Athene"
    },
    "SolvensStandard": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "sureli": {
          "$ref": "#/definitions/Sureli"
        },
        "probabli": {
          "$ref": "#/definitions/Probabli"
        },
        "stress": {
          "type": "string"
        },
        "parameters": {
          "type": "string"
        }
      },
      "title": "SolvensStandard"
    },
    "SolvensScenario": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "name": {
          "type": "string"
        },
        "with-va": {
          "type": "boolean"
        },
        "parameters": {
          "type": "string"
        },
        "type": {
          "type": "string"
        },
        "stress": {
          "type": "string"
        },
        "sureli": {
          "$ref": "#/definitions/Sureli"
        },
        "probabli": {
          "$ref": "#/definitions/Probabli"
        }
      },
      "title": "SolvensScenario"
    },
    "ChangeAnalysisStandard": {
      "type": "object",
      "additionalProperties": false,
      "allOf": [
        {
          "properties": {
            "timespan-change-analysis": {
              "type": "string",
              "enum": [
                "Ytd",
                "1-month",
                "notimespan"
              ]
            },
            "parameters": {
              "type": "string"
            }
          }
        },
        {
          "$ref": "#/definitions/Sureli"
        }
      ],
      "title": "ChangeAnalysisStandard"
    },
    "ChangeAnalysisScenario": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "specification": {
          "$ref": "#/definitions/ChangeAnalysisStandard"
        }
      },
      "title": "ChangeAnalysisScenario"
    },
    "ModelPoints": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "group-by": {
          "type": "string"
        },
        "batch-name": {
          "type": "string"
        },
        "batch-scenario": {
          "type": "string"
        },
        "batch-product": {
          "type": "string"
        },
        "cash-flow-parameters": {
          "type": "string"
        }
      },
      "title": "ModelPoints"
    },
    "Sureli": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "policy-source": {
          "$ref": "#/definitions/PolicySource"
        },
        "economic-context": {
          "$ref": "#/definitions/EconomicContext"
        },
        "months-per-step": {},
        "max-projection-years": {},
        "policy-storage": {
          "type": "string",
          "enum": [
            "none",
            "normal-stress",
            "all-stresses"
          ]
        }
      },
      "required": [
        "economic-context",
        "max-projection-years",
        "months-per-step",
        "policy-source"
      ],
      "title": "Sureli"
    },
    "Probabli": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "group-assets": {
          "type": "string"
        },
        "group-assets-scenario": {
          "type": "string"
        },
        "asset-portfolios": {
          "type": "string"
        },
        "state-handler": {
          "type": "string"
        },
        "model-points": {
          "$ref": "#/definitions/ModelPoints"
        },
        "economic-context": {
          "$ref": "#/definitions/EconomicContext"
        }
      },
      "required": [
        "group-assets",
        "asset-portfolios",
        "state-handler"
      ],
      "title": "Probabli"
    },
    "EconomicContext": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "name": {
          "type": "string"
        },
        "type": {
          "type": "string",
          "enum": [
            "Rentekurve",
            "ESG"
          ]
        },
        "version": {
          "type": "string",
          "enum": [
            "current",
            "currentweekday",
            "latest",
            "ultimo",
            "ultimo-1",
            "ultimo-2"
          ]
        },
        "number-of-paths": {}
      },
      "title": "EconomicContext"
    },
    "PolicySource": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "name": {
          "type": "string"
        },
        "version": {
          "type": "string"
        }
      },
      "title": "PolicySource"
    }
  }
}
